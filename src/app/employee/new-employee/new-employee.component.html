<div class="d-flex justify-content-center text-center">
    <div class="container p-5">
        <div class="d-flex justify-content-between align-items-center">
            <h1 class="text-center mb-5">Add New Employee</h1>
            <a href="employee/list"  class="btn btn-success">Employee List</a>
          </div>
        <div class="row">
            <div class="d-felx justify-contetn-center align-item-center">
                <span class="succ_msg" *ngIf="succ_msg">Form Successfully submitted</span>
            </div>
            <div class="col-8 m-auto">
                <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                    <li class="nav-item" role="presentation">
                      <button class="nav-link active" id="pills-profile-tab" data-bs-toggle="pill" data-bs-target="#pills-profile" type="button" role="tab" aria-controls="pills-profile" aria-selected="true">Info</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="pills-skill-tab" data-bs-toggle="pill" data-bs-target="#pills-skill" type="button" role="tab" aria-controls="pills-skill" aria-selected="false">Skills</button>
                    </li>
                    <li class="nav-item" role="presentation">
                      <button class="nav-link" id="pills-prev-tab" data-bs-toggle="pill" data-bs-target="#pills-prev" type="button" role="tab" aria-controls="pills-prev" aria-selected="false">Preview</button>
                    </li>
                </ul>
                <form [formGroup]="empForm" >
                    <div class="tab-content" id="pills-tabContent">
                        <div class="tab-pane fade show active" id="pills-profile" role="tabpanel" aria-labelledby="pills-profile-tab" tabindex="0">
                            <div formGroupName="info" class="text-start">
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" placeholder="First Name" aria-label="First Name"  id="floatingFirstName" formControlName="firstName"
                                    [class]="(empForm.get('info.firstName')?.touched && empForm.get('info.firstName')?.hasError('required')) || errorTab1 ? 'invalid':'valid'">
                                    <label for="floatingFirstName">First Name<span class="req">*</span></label>
                                    <span class="err_msg" *ngIf="empForm.get('info.firstName')?.touched && empForm.get('info.firstName')?.hasError('required') || errorTab1">
                                        First name is required.
                                    </span>
                                </div>
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" placeholder="Last Name" aria-label="Last Name"  id="floatingLastName" formControlName="lastName" >
                                    <label for="floatingLastName">Last Name</label>
                                </div>
                                <div class="form-floating mb-3">
                                    <input type="date" class="form-control" placeholder="Date of Birth" aria-label="DOB"  id="floatingDOB" formControlName="dob" [class]="(empForm.get('info.dob')?.touched && empForm.get('info.dob')?.hasError('required')) || errorTab1 ? 'invalid':'valid'">
                                    <label for="floatingDOB">Date of Birth<span class="req">*</span></label>
                                    <span class="err_msg" *ngIf="empForm.get('info.dob')?.touched && empForm.get('info.dob')?.hasError('required') || errorTab1">
                                        Date of Birth is required.
                                    </span>
                                </div>
                                <div class="form-floating mb-3">
                                    <input type="number" pattern="0-9"  class="form-control" placeholder="Phone" aria-label="phone"  id="floatingPhone" formControlName="phone" [class]="(empForm.get('info.phone')?.touched && empForm.get('info.phone')?.hasError('required')) || errorTab1 ? 'invalid':'valid'">
                                    <label for="floatingPhone">Phone<span class="req">*</span></label>
                                    <span class="err_msg" *ngIf="empForm.get('info.phone')?.touched && empForm.get('info.phone')?.hasError('required') || errorTab1">
                                        Phone is required.
                                    </span>
                                </div>
                                <div class="form-floating mb-3">
                                    <select class="form-select" id="floatingGender" aria-label="Floating label select example" formControlName="gender" [class]="(empForm.get('info.gender')?.touched && empForm.get('info.gender')?.hasError('required')) || errorTab1 ? 'invalid':'valid'">
                                        <option value="" selected>Choose Option</option>
                                        <option value="F">Female</option>
                                        <option value="M">Male</option>
                                    </select>
                                    <label for="floatingGender">Gender<span class="req">*</span></label>
                                    <span class="err_msg" *ngIf="empForm.get('info.gender')?.touched && empForm.get('info.gender')?.hasError('required') || errorTab1">
                                        Gender is required.
                                    </span>
                                </div>
                                <div class="form-group submit_btn float-right">
                                    <button type="submit"  class="btn btn-primary" (click)="tab1Next()">Next</button>
                                </div>
                            </div>                        
                        </div>
                        <div class="tab-pane fade" id="pills-skill" role="tabpanel"  aria-labelledby="pills-skill-tab" tabindex="0">
                            <div formGroupName="skills" class="text-start">
                                <div class="form-floating mb-3">
                                    <input type="text" class="form-control" placeholder="First Name" aria-label="First Name"  id="floatingSkillName" formControlName="skillName" [class]="(empForm.get('skills.skillName')?.touched && empForm.get('skills.skillName')?.hasError('required')) || errorTab2 ? 'invalid':'valid'">
                                    <label for="floatingSkillName">Skill Name<span class="req">*</span></label>
                                    <span class="err_msg" *ngIf="empForm.get('skills.skillName')?.touched && empForm.get('skills.skillName')?.hasError('required') || errorTab2">
                                        Skill Name is required.
                                    </span>
                                </div>

                                <div class="form-floating mb-3">
                                    <input type="number" pattern="0-9"  class="form-control" placeholder="Phone" aria-label="phone"  id="floatingExperience" formControlName="experience" [class]="(empForm.get('skills.experience')?.touched && empForm.get('skills.experience')?.hasError('required')) || errorTab2 ? 'invalid':'valid'">
                                    <label for="floatingExperience">Experience in Years<span class="req">*</span></label>
                                    <span class="err_msg" *ngIf="empForm.get('skills.experience')?.touched && empForm.get('skills.experience')?.hasError('required') || errorTab2">
                                        Experience is required.
                                    </span>
                                </div>
                                <div class="form-floating mb-3">
                                    <select class="form-select" id="floatingSkillLevel" aria-label="Floating label select example" formControlName="skillLevel" [class]="(empForm.get('skills.skillLevel')?.touched && empForm.get('skills.skillLevel')?.hasError('required')) || errorTab2 ? 'invalid':'valid'">
                                    <option value="" selected>Choose Option</option>
                                    <option value="beginner">Beginner</option>
                                    <option value="intermediate">Intermediate</option>
                                    <option value="advance">Advanced</option>
                                    </select>
                                    <label for="floatingSkillLevel">Skill Level<span class="req">*</span></label>
                                    <span class="err_msg" *ngIf="empForm.get('skills.skillLevel')?.touched && empForm.get('skills.skillLevel')?.hasError('required') || errorTab2">
                                        Skill Level is required
                                    </span>
                                </div>
                                <div class="form-group submit_btn float-right">
                                    <button type="submit"  class="btn btn-primary" (click)="tab2Next()">Next</button>
                                </div>
                            </div>   
                        </div>
                        <div class="tab-pane fade" id="pills-prev" role="tabpanel" aria-labelledby="pills-prev-tab" tabindex="0">
                            <div class="row text-start">
                                <div class="col-md-6">
                                    <p><span class="title"><strong>Full Name </strong> </span> {{empForm.value.info.firstName}} {{empForm.value.info.lastName}}</p>
                                    <p><span class="title"><strong>Date of Birth</strong> </span> {{empForm.value.info.dob}}</p>
                                    <p><span class="title"><strong>Phone </strong> </span> {{empForm.value.info.phone}}</p>
                                    <p><span class="title"><strong>Gender </strong> </span> 
                                        <span *ngIf="empForm.value.info.gender == 'F'">Female</span>
                                        <span *ngIf="empForm.value.info.gender == 'M'">Male</span>
                                    </p>
                                </div>
                                <div class="col-md-6">
                                    <p><span class="title"><strong>Skill Name </strong> </span> {{empForm.value.skills.skillName}}</p>
                                    <p><span class="title"><strong>Experince in Year </strong> </span> {{empForm.value.skills.experience}}</p>
                                    <p><span class="title"><strong>Skill Level </strong> </span> {{empForm.value.skills.skillLevel}}</p>
                                </div>
                            </div>
                            <div class="form-group submit_btn float-right">
                                <button type="submit"  class="btn btn-primary" (click)="onSubmit()">Submit</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>